<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="styles.css">
        <title>Impian - Checkout</title>
        <style>
            .checkout-card{
                max-width: 800px;
                margin: 20px auto;
                background: white;
                border-radius: 20px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.04);
                border: 1px solid #e2e8f0;
                overflow: hidden;
                display: flex;
                flex-direction: column;
            }

            .checkout-header{
                padding: 20px 25px;
                border-bottom: 1px solid #f1f5f9;
            }

            h2{
                margin: 0;
                font-size: 16px;
                font-weight: 700;
            }

            .form-content{
                padding: 25px;
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .form-group{
                display: flex;
                flex-direction: column;
                gap: 5px;
            }

            label{
                font-size: 13px;
                font-weight: 600;
                color: #444;
            }

            input, select, textarea{
                padding: 10px;
                border: 1px solid #e2e8f0;
                border-radius: 8px;
                font-size: 14px;
            }

            input:focus, select:focus, textarea:focus{
                outline: none;
                border-color: #2563eb;
            }

            .row{
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }

            .checkout-footer{
                padding: 25px;
                background: #fcfcfd;
                border-top: 1px solid #f1f5f9;
            }

            .summary-line{
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
            }

            .summary-label{ 
                color: #64748b; 
                font-weight: 600; 
                font-size: 13px;
                letter-spacing: 0.5px;
            }
            
            .summary-total{ 
                font-size: 18px; 
                font-weight: 800; 
            }

            .payment-btn{
                width: 100%;
                padding: 14px;
                background: rgb(27, 27, 27);
                color: white;
                border: none;
                border-radius: 12px;
                font-size: 14px;
                font-weight: 700;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                transition: 0.2s;
                text-align: center;
                display: block;
            }

            .payment-btn:hover{ 
                opacity: 0.8; 
            }
        </style>
    </head>
    <body>
        <header id='topbar'>  
            <p>Flash Sale: Up to 50% Off ‚Äî Shop Now!   |   Free Shipping on Orders Above RM100   |   Weekend Special: Extra 15% Off Storewide Flash Sale: Up to 50% Off ‚Äî Shop Now!   |   Free Shipping on Orders Above RM100   |   Weekend Special: Extra 15% Off Storewide Flash Sale: Up to 50% Off ‚Äî Shop Now!</p> 
        </header>

        <aside id='sidebar'>
            <a id="logo" href="index.html">
                <img src="./media/logo.webp" alt="Logo" style="width: 120px;">
            </a>
            
            <a href="customer-dashboard.html"><span>üè†</span>Dashboard</a>
            <a href="shop.html"><span>üõçÔ∏è</span>Start Shopping</a>
            <a href="cart.html" class="active-link"><span>üõí</span>Your Cart</a>
            <a href="comments.html"><span>üí¨</span>Comments</a>
            <a href="services.html"><span>‚öôÔ∏è</span>Our Services</a>
            <a href="about.html"><span>‚ÑπÔ∏è</span>About Us</a>
            <a href="contact.html"><span>üìû</span>Contact Us</a>
            
            <a href="admin-login.html" class="logout-btn">Logout</a>
        </aside>

        <div id='main-content'>
            <div>
                <h1 style="color: #333; margin-bottom: 5px; text-align: center;">Your Checkout Form</h1>
                <p style="color: #666; margin-bottom: 30px; font-size: 14px; text-align: center;">Please provide your shipping details to complete the order.</p>
            </div>

            <div class="checkout-card">
                <div class="checkout-header">
                    <h2>Shipping Address Details</h2>
                </div>

                <form class="form-content" id="checkout-form">
                    <div class="form-group">
                        <label>Street Address</label>
                        <input type="text" placeholder="Enter your full address" required>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label>City</label>
                            <input type="text" placeholder="City" required>
                        </div>
                        <div class="form-group">
                            <label>State/Region</label>
                            <input type="text" placeholder="State" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label>Postal Code</label>
                            <input type="text" placeholder="e.g: 47100" required>
                        </div>
                        <div class="form-group">
                            <label>Shipping Option</label>
                            <select required>
                                <option style="font-size: 14px;" value="standard">Standard Shipping (3-5 Days)</option>
                                <option style="font-size: 14px;" value="express">Express Shipping (1-2 Days)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Special Instructions (Optional)</label>
                        <textarea rows="3" placeholder="Leave a note for the courier..."></textarea>
                    </div>
                </form>

                <div class="checkout-footer">
                    <div class="summary-line">
                        <span class="summary-label">TOTAL TO PAY</span>
                        <span class="summary-total">RM <span id="checkout-total">0</span></span>
                    </div>
                    <button type="button" class="payment-btn" onclick="goToPayment()">Continue to Payment</button>
                </div>
            </div>
        </div>

        <script>
            function loadCheckoutTotal(){
                let cart = JSON.parse(localStorage.getItem('myCart')) || [];
                let total = cart.reduce((sum, item) => sum + item.price, 0);
                document.getElementById('checkout-total').textContent = total;
            }

            function goToPayment(){
                const form = document.getElementById('checkout-form');
                if(form.checkValidity()){
                    window.location.href = 'payment.html';
                }
                else{
                    alert("Please fill in all required shipping fields.");
                }
            }

            window.onload = loadCheckoutTotal;
        </script>
    </body>
</html>
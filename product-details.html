<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="styles.css">
        <title>Impian - Product Details</title>
        <style>
            .details-container{
                max-width: 700px;
                margin: 0px auto;
            }

            .details-card{
                background: white;
                border-radius: 24px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.05);
                padding: 30px;
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .details-image{
                width: 100%;
                height: 255px;
                object-fit: cover;
                border-radius: 16px;
            }

            .details-category{
                font-size: 14px;
                color: #194bb6;
                font-weight: 600;
                display: block;
                margin-bottom: 5px;
            }

            .action-buttons{
                display: flex;
                gap: 10px;
            }

            .btn{
                flex: 1;
                padding: 14px;
                border: none;
                border-radius: 12px;
                font-weight: 700;
                font-size: 12px;
                transition: 0.2s;
            }

            .cart-btn{ 
                background: #12151b; 
                color: white; 
                width: 100%; 
            }
            
            .btn:hover{
                opacity: 0.8;
            }
        </style>
    </head>
    <body>
        <header id='topbar'>  
            <p>Flash Sale: Up to 50% Off ‚Äî Shop Now!   |   Free Shipping on Orders Above RM100   |   Weekend Special: Extra 15% Off Storewide Flash Sale: Up to 50% Off ‚Äî Shop Now!   |   Free Shipping on Orders Above RM100   |   Weekend Special: Extra 15% Off Storewide Flash Sale: Up to 50% Off ‚Äî Shop Now!</p> 
        </header>

        <aside id='sidebar'>
            <a id="logo" href="index.html">
                <img src="./media/logo.webp" alt="Logo" style="width: 120px;">
            </a>
            
            <a href="customer-dashboard.html"><span>üè†</span>Dashboard</a>
            <a href="shop.html"  class="active-link"><span>üõçÔ∏è</span>Start Shopping</a>
            <a href="cart.html"><span>üõí</span>Your Cart</a>
            <a href="comments.html"><span>üí¨</span>Comments</a>
            <a href="services.html"><span>‚öôÔ∏è</span>Our Services</a>
            <a href="about.html"><span>‚ÑπÔ∏è</span>About Us</a>
            <a href="contact.html"><span>üìû</span>Contact Us</a>
            
            <a href="admin-login.html" class="logout-btn">Logout</a>
        </aside>

        <div id='main-content'>
            <div class="details-container">
                <div id="details-display"></div>
            </div>
        </div>

        <script>
            function loadProductDetails(){
                const params = new URLSearchParams(window.location.search);
                const productId = params.get('id');

                const defaultProducts = [
                    { id: 1, name: "Wireless Ergonomic Mouse X70II ‚Äì Precision Control Edition", price: 25, category: "Accessories", image: "media/mouse2.jpg" },
                    { id: 2, name: "Mechanical Keyboard High-Performance Typing Experience", price: 75, category: "Accessories", image: "media/keyboard1.avif" },
                    { id: 3, name: "Gaming Headset ‚Äì Immersive Surround Sound Pro Series", price: 120, category: "Audio", image: "media/headset1.webp" },
                    { id: 4, name: "Wireless Mouse ‚Äì Sleek Design Comfort Grip", price: 25, category: "Accessories", image: "media/mouse1.webp" },
                    { id: 5, name: "Mechanical Keyboard ‚Äì Durable Switch Technology", price: 75, category: "Accessories", image: "media/keyboard2.jpg" },
                    { id: 6, name: "Gaming Headset ‚Äì Noise-Cancelling Audio Elite", price: 120, category: "Audio", image: "media/headset2.jpg" },
                    { id: 7, name: "Wireless Mouse ‚Äì Compact Travel-Friendly Edition", price: 25, category: "Accessories", image: "media/mouse3.jpg" },
                    { id: 8, name: "Mechanical Keyboard ‚Äì RGB Backlit Gaming Series", price: 75, category: "Accessories", image: "media/keyboard3.avif" },
                    { id: 9, name: "Gaming Headset ‚Äì Studio-Quality Microphone & Sound", price: 120, category: "Audio", image: "media/headset3.jpg" }
                ];
                
                const products = JSON.parse(localStorage.getItem('allProducts')) || defaultProducts;
                const product = products.find(p => p.id == productId);
                const display = document.getElementById('details-display');
            
                if(product){
                    const standardDescription = "Experience ultimate precision and comfort with this high-performance item. Designed with premium materials and advanced technology, it ensures a seamless and durable user experience for both work and play. Part of our exclusive Impian collection, this product combines sleek aesthetics with reliable functionality.";

                    display.innerHTML = `
                        <div class="details-card">
                            <img src="${product.image || 'media/celia.jpg'}" class="details-image" alt="${product.name}">
                            <div>
                                <span style="font-size: 12px; color: #64748b; letter-spacing: 1px;" class="shop-name">IMPIAN OFFICIAL STORE</span>
                                <span class="details-category">${product.category || 'N/A'}</span>
                                <h2 style="margin: 5px 0; font-size: 18px; color: #1e293b;">${product.name}</h2>
                                <div class="rating" style="font-size: 14px; color: #fbbf24">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <span style="color:#64748b; font-size:12px;">(5/5 Customer Rating)</span></div>
                                <p style="font-size: 13px; color: #475569; line-height: 1.6; margin: 10px 0;">${standardDescription}</p>
                                <span style="font-size: 16px; font-weight: 700; color: green;">RM ${product.price}</span>
                            </div>
                            
                            <div class="action-buttons">
                                <a href="shop.html" class="btn cart-btn" style="text-align:center; background-color:rgb(17, 17, 201); text-decoration: none;">‚Üê Back to Shopping</a>
                                <button class="btn cart-btn" onclick="addToCart('${product.name.replace(/'/g, "\\'")}', ${product.price})">Add to Cart</button>
                            </div>
                        </div>
                    `;
                }
                else{
                    display.innerHTML = "<p>Product not found.</p>";
                }
            }

            function addToCart(name, price){
                let cart = JSON.parse(localStorage.getItem('myCart')) || [];
                cart.push({ name: name, price: price });
                localStorage.setItem('myCart', JSON.stringify(cart));
                alert(name + " added to cart!");
            }

            window.onload = loadProductDetails;
        </script>
    </body>
</html>